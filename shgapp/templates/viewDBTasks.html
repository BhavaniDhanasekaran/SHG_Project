{% extends 'base.html' %}
{% load staticfiles %}
{% block javascript %}
    <script src="/static/datajs/dashboard.js?v={{JS_VERSION}}"></script>
    <script src="/static/datajs/loadTaskList.js?v={{JS_VERSION}}"></script>
    <style>
	.modal {
    display: none;
    overflow: hidden;
    position: fixed;
    top: 0px;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: 1050;
    -webkit-overflow-scrolling: touch;
    outline: 0;
}

.modal-content {
    background-color: #fefefe;
    margin: auto;
    border: 5px solid #981b1b;
    width: 50%;
    height: 90%;
    overflow: auto;
}

.classmemberDetails {
    font-size: 18px;
    color: #981b1b;
    font-weight: bold;
    align-text: center;
}

.history_main {
    margin: auto;
    padding: 10px;
    vertical-align: middle;
    position: absolute;
    top: 65px;
    bottom: 32px;
    right: 0;
    left: 0;
}
    </style>
    <script>
        var taskList    = '{{ taskList | escapejs }}';
        var dateFrom = '{{ dateFrom | escapejs }}';
        var dateTo = '{{ dateTo | escapejs }}';
        var userId = '{{ userId | escapejs }}';
        var taskName = '{{ taskName | escapejs }}';
        var group = '{{ group | escapejs }}';

        if(taskList){
            taskList = JSON.parse(taskList);
        }
        $(document).ready(function(){
	        viewTasksData(taskName);
	        $('.close').on('click', function (){
				$('#Modal').css('display','none');
	        });
		    window.onclick = function(event) {
			    if (event.target == document.getElementById('Modal' )) {
				$('#Modal').css('display','none');
			}
		}

        });
    </script>

{% endblock %}

<!-- PAGE CONTENT BEGINS -->
{% block content %}
    <div class="col-xs-12 widget-container-col" id="widget-container-col-2">
    <div class="widget-box widget-color-blue" id="widget-box-2" >
        <div class="widget-header" style="background:#981b1b;border-color:#981b1b">
            <h5 class="widget-title bigger lighter">
                <i class="ace-icon fa fa-tachometer"></i>
                Dashboard - <span id="taskName">{{ taskName }} </span>
            </h5>

        </div>
        <div class="widget-body" style="overflow-x:auto;">
            <div class="widget-main no-padding">
                <table id="taskListDB" class="table table-striped table-bordered table-hover">

                </table>
            </div>
        </div>
    </div>
    <div id="Modal" class="modal">
        <div class="modal-content">
            <span class="close" style="margin-right:14px;">x</span>
            <p style="font-size:16px;margin-left: 14px">	<i class="fa fa-history"> PROCESS HISTORY</i></p>
            <div class="modal-body" style="padding:0;padding-left:15px;" id="historyModal">
            </div>
        </div>
    </div>
</div>

    </br>
    </br>
{% endblock content %}
